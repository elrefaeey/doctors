# Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

## âœ… ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ÙƒÙˆØ¯

### Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ ØªÙ… Ø­Ù„Ù‡Ø§:
1. âœ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù€ index Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù…Ù† Firestore (Ø§Ù„ØªØ±ØªÙŠØ¨ ÙŠØªÙ… ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©)
2. âœ… ØªØ­Ø³ÙŠÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
3. âœ… Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
4. âœ… ØªØ­Ø³ÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
5. âœ… Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ translation keys

## ğŸ”§ Ù…Ø§ ØªØ­ØªØ§Ø¬ ØªØ¹Ù…Ù„Ù‡ Ø§Ù„Ø¢Ù†

### Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ­Ø¯ÙŠØ« Ù‚ÙˆØ§Ø¹Ø¯ Firestore (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!)

Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://console.firebase.google.com/project/doctor-20c9d/firestore/rules

**Ø§Ø³ØªØ¨Ø¯Ù„ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ù‡Ø°Ø§:**

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    function isSignedIn() {
      return request.auth != null;
    }
    
    function isOwner(userId) {
      return isSignedIn() && request.auth.uid == userId;
    }
    
    function isAdmin() {
      return isSignedIn() && 
             exists(/databases/$(database)/documents/users/$(request.auth.uid)) &&
             get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
    
    function isDoctor() {
      return isSignedIn() && 
             exists(/databases/$(database)/documents/users/$(request.auth.uid)) &&
             get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'doctor';
    }
    
    match /users/{userId} {
      allow read: if isSignedIn();
      allow create: if isSignedIn();
      allow update: if isOwner(userId) || isAdmin();
      allow delete: if isAdmin();
    }
    
    match /doctors/{doctorId} {
      allow read: if true;
      allow create: if isAdmin();
      allow update: if isOwner(doctorId) || isAdmin();
      allow delete: if isAdmin();
    }
    
    match /appointments/{appointmentId} {
      allow read: if isSignedIn();
      allow create: if isSignedIn();
      allow update: if isSignedIn();
      allow delete: if isAdmin();
    }
    
    match /pendingRequests/{requestId} {
      allow read: if isAdmin() || isDoctor();
      allow create: if isDoctor();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }
    
    match /subscriptionPlans/{planId} {
      allow read: if true;
      allow write: if isAdmin();
    }
    
    match /specializations/{specId} {
      allow read: if true;
      allow write: if isAdmin();
    }
    
    match /translations/{lang} {
      allow read: if true;
      allow write: if isAdmin();
    }
    
    match /notifications/{notificationId} {
      allow read: if isSignedIn();
      allow create: if isAdmin();
      allow update: if isSignedIn();
      allow delete: if isAdmin();
    }
    
    match /reviews/{reviewId} {
      allow read: if true;
      allow create: if isSignedIn();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }
  }
}
```

**Ø«Ù… Ø§Ø¶ØºØ· "Publish"**

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù…Ù„Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
npm run seed
```

Ù‡ÙŠØ¶ÙŠÙ:
- Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©
- Ø®Ø·Ø· Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
- Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¤ÙˆÙ„

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://console.firebase.google.com/project/doctor-20c9d/authentication
2. Ø§Ø¶ØºØ· "Add User"
3. Ø£Ø¯Ø®Ù„:
   - Email: admin@medbook.com (Ø£Ùˆ Ø£ÙŠ Ø¥ÙŠÙ…ÙŠÙ„)
   - Password: (Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©)
4. Ø§Ø¶ØºØ· "Add User"
5. Ø§Ù†Ø³Ø® Ø§Ù„Ù€ UID

6. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://console.firebase.google.com/project/doctor-20c9d/firestore/data
7. Ø§ÙØªØ­ collection Ø§Ø³Ù…Ù‡Ø§ `users`
8. Ø§Ø¶ØºØ· "Add Document"
9. Document ID: Ø§Ù„ØµÙ‚ Ø§Ù„Ù€ UID Ø§Ù„Ù„ÙŠ Ù†Ø³Ø®ØªÙ‡
10. Ø£Ø¶Ù Ø§Ù„Ø­Ù‚ÙˆÙ„:
    - `uid`: (Ù†ÙØ³ Ø§Ù„Ù€ UID)
    - `email`: admin@medbook.com
    - `displayName`: Admin
    - `role`: admin (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!)
    - `language`: en
    - `createdAt`: (Ø§Ø¶ØºØ· timestamp)

### Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

1. Ø§ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ `/admin/login`
3. Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯
4. Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£Ø·Ø¨Ø§Ø¡!

## âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ø·ÙˆØ§Øª:

### âœ… Ù„Ù† ØªØ±Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:
- âŒ The query requires an index
- âŒ Missing or insufficient permissions
- âŒ Translation keys (home.heroTitle)

### âœ… Ø³ÙŠØ¹Ù…Ù„:
- âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
- âœ… Ø¥Ø¶Ø§ÙØ© Ø£Ø·Ø¨Ø§Ø¡ Ø¬Ø¯Ø¯
- âœ… Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ
- âœ… Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
- âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù

## ğŸ“± ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„

ØªÙ… ØªØ­Ø³ÙŠÙ†:
- âœ… Ø­Ø¬Ù… Ø§Ù„Ø®Ø·ÙˆØ· (Ø£ØµØºØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)
- âœ… Ø§Ù„Ù…Ø³Ø§ÙØ§Øª (padding Ø£Ù‚Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)
- âœ… Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (scrollable)
- âœ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± (Ø£Ø­Ø¬Ø§Ù… Ù…Ù†Ø§Ø³Ø¨Ø©)
- âœ… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ (responsive)

## ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚

### ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:
1. Ø§ÙØªØ­ Firebase Console â†’ Firestore â†’ Rules
2. ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù…ØªØ·Ø§Ø¨Ù‚Ø© Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù„Ù‰
3. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Publish"

### ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:
1. Firebase Console â†’ Firestore â†’ Data
2. Ø§ÙØªØ­ collection `users`
3. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
4. ØªØ£ÙƒØ¯ Ø£Ù† `role` = `admin`

### ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
1. Ø´ØºÙ„ `npm run seed`
2. Firebase Console â†’ Firestore â†’ Data
3. ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯:
   - `specializations` (8 documents)
   - `subscriptionPlans` (3 documents)
   - `translations` (2 documents: en, ar)

## ğŸš¨ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### Ø¥Ø°Ø§ Ø¸Ù‡Ø± "email already in use":
- Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„
- Ø§Ø³ØªØ®Ø¯Ù… Ø¥ÙŠÙ…ÙŠÙ„ Ø¢Ø®Ø±
- Ø£Ùˆ Ø§Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ù† Authentication

### Ø¥Ø°Ø§ Ø¸Ù‡Ø± "permission denied":
- ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯
- ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… `role: admin`
- Ø§Ù†ØªØ¸Ø± 30 Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯

### Ø¥Ø°Ø§ Ù„Ù… ØªØ¸Ù‡Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
- Ø´ØºÙ„ `npm run seed`
- ØªØ­Ù‚Ù‚ Ù…Ù† Firebase Console
- ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´Ø§ÙƒÙ„:
1. ØªØ­Ù‚Ù‚ Ù…Ù† Console ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ (F12)
2. ØªØ­Ù‚Ù‚ Ù…Ù† Firebase Console
3. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª

---

## Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹

1. âœ… **Ù†Ø³Ø® Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯** â†’ Firebase Console â†’ Firestore â†’ Rules â†’ Publish
2. âœ… **ØªØ´ØºÙŠÙ„** `npm run seed`
3. âœ… **Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¤ÙˆÙ„** â†’ Authentication + Firestore
4. âœ… **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„** â†’ `/admin/login`
5. âœ… **Ø¥Ø¶Ø§ÙØ© Ø£Ø·Ø¨Ø§Ø¡** â†’ Admin Dashboard

**Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: 5-10 Ø¯Ù‚Ø§Ø¦Ù‚

**Ø§Ù„Ù†ØªÙŠØ¬Ø©**: Ù…ÙˆÙ‚Ø¹ ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡! ğŸ‰
